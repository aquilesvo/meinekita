
<div class="container">
  <%= form_tag kindergardens_path, method: "get", remote: true do %>
    <% searcher = OpenStruct.new(params[:search]) %>
    <div class="filter-box">
      <div class="row">
        <%= simple_fields_for :search, searcher do |s| %>
          <%= s.collection_select(:categories, Category.all, :id, :name, {:prompt => 'Art der Einrichtung'}, { class: "filter-button large col-xs-6 col-sm-4 col-md-2"}) %>
        <% end %>

        <%= simple_fields_for :search, searcher do |s| %>
          <%= s.collection_select(:carriers, Carrier.all, :id, :name, {:prompt => 'Art des TrÃ¤gers'}, { class: "filter-button large col-xs-6 col-sm-4 col-md-2"}) %>
        <% end %>

        <%= simple_fields_for :search, searcher do |s| %>
          <%= s.collection_select(:districts, District.all, :id, :name, {:prompt => 'Stadtteil'}, { class: "filter-button large col-xs-6 col-sm-4 col-md-2"}) %>
        <% end %>

        <button type="button" class="filter-button medium col-xs-6 col-sm-4 col-md-2" data-toggle="collapse" data-target="#languages"><%= image_tag 'png/005-language.png' %>    Sprachen</button>

        <button type="button" class="filter-button medium col-xs-6 col-sm-4 col-md-2" data-toggle="collapse" data-target="#topics"><%= image_tag 'png/004-ebook.png' %>    Thematisch</button>

        <%= submit_tag "Save", class: 'filter-button slim col-xs-6 col-sm-4 col-md-2' %>
      </div>
      <div class="row">
        <div id="languages" class="collapse col-xs-12">
          <div class="subheader"><h4><strong>Sprachen</strong></h4></div>
           <%= simple_fields_for :search, searcher do |s| %>
            <%= s.collection_check_boxes :properties, Property.where(type: "Language"), :id, :name do |b| %>
              <%= b.label class: "label-checkbox" do%>
                <%=b.check_box + b.text.capitalize %>
                <% end %>
              <%end%>
          <% end %>
        </div>

        <div id="topics" class="collapse col-xs-12">
          <div class="subheader"><h4><strong>Themen</strong></h4></div>
          <%= simple_fields_for :search, searcher do |s| %>
            <%= s.collection_check_boxes :properties, Property.where(type: "Topic"), :id, :name do |b| %>
              <%= b.label class: "label-checkbox" do%>
                <%=b.check_box + b.text%>
                <% end %>
              <%end%>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>

  <div class="row">
    <div class="kindergarden-index-main-container col-xs-12">
      <div class="kindergarden-index-cards-container">
        <%= render "kindergardens/list", kindergardens: @kindergardens %>
      </div>
      <div id="map-container" class="col-md-6 hidden-xs hidden-sm">
        <%= render 'map', markers: @markers %>
      </div>
    </div>
  </div>
</div>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>


